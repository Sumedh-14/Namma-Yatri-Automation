package User.Android;

import io.appium.java_client.AppiumBy;

import org.openqa.selenium.By;
import org.openqa.selenium.WebElement;

import base.BaseClass;

public class OTPScreen extends BaseClass {
	
	//about chat or messaging feature 
	// also about cancel ride
	// write about all possible ways like contct customer /sos
	
	
	
	public void cancelRide() {
		
		
	}
	
	public void clickEmergencyHelp() {
		
		
	}
	
	public void clickCustomerSupportCall() {
		
		
	}
	
	public void verifyRideFare() {
		
		//using assertions
	}
	
	public void readOTP() {
//		for(int i=1 ; i<=4; i++) {
//			rideOTP = rideOTP + driver1.findElement(AppiumBy.xpath("//android.widget.TextView[@text='Cash / Use any UPI app']/../../preceding-sibling::android.widget.LinearLayout[3]/android.widget.LinearLayout/android.widget.LinearLayout/android.widget.LinearLayout/android.widget.LinearLayout["+i+"]/android.widget.TextView")).getText();
//		}
//		System.out.println("Ride OTP is "+rideOTP);
//		System.out.println("User can start the ride using the rideOtp");
		// XPath to locate the TextView with content-desc attribute
		String xpath = "//android.widget.TextView[@text='OTP']";

		// Find the element using XPath
		WebElement element = driver.findElement(By.xpath(xpath));

		// Get the content-desc attribute value
		String contentDesc = element.getAttribute("content-desc");

		// Extract numbers from content-desc attribute
		String numbers = extractNumbers(contentDesc);

		System.out.println("Extracted numbers: " + numbers);

		// Method to extract numbers from a string
		private String extractNumbers(String text) {
		    // Remove non-numeric characters and spaces
		    return text.replaceAll("[^0-9]", "");
		}

		
	}

}
