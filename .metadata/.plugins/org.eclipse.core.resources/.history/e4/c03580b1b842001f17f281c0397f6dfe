package Driver;

import java.util.NoSuchElementException;

import org.openqa.selenium.By;
import org.openqa.selenium.WebElement;
import org.testng.Assert;

import base.BaseClass;
import io.appium.java_client.AppiumBy;
//import io.appium.java_client.AppiumDriver;
//import io.appium.java_client.android.AndroidDriver;
//import io.appium.java_client.android.nativekey.AndroidKey;
//import io.appium.java_client.android.nativekey.KeyEvent;


public class AndroidBackButton extends BaseClass {

    public void tapBack() throws InterruptedException {
//        for(int i = 0; i < 3; i++) { 
//        	// Example: Press back button three times
//        	Thread.sleep(5000); 
//        	driver.navigate().back();
//        	System.out.println("Tapped "+(i+1)+"time");
//           // Adjust as needed
//           
//        }
    	try
    	{ 
    		WebElement element = driver.findElement(By.xpath("//android.widget.RelativeLayout[@content-desc=\"Activate to open step list\"]"
                + "/android.widget.RelativeLayout/android.widget.RelativeLayout"
                + "/android.widget.LinearLayout/android.widget.LinearLayout"));

        // Assert that the element is displayed
        Assert.assertTrue(element.isDisplayed(), "Validating whether the route in map is displaying.");
        System.out.println("Route is displaying.");
        if(driver.findElement(AppiumBy.xpath("//android.widget.RelativeLayout[@content-desc=\"Activate to open step list\"]"
    			+ "/android.widget.RelativeLayout/android.widget.RelativeLayout"
    			+ "/android.widget.LinearLayout/android.widget.LinearLayout"))!=null)
    	{		
    		driver.navigate().back();
     
       }

    } catch (NoSuchElementException e) {
        // If the element is not found, fail the test
        Assert.fail("Element is not found in the DOM.");
    }
    	try
    	{ 
    		WebElement element = driver.findElement(AppiumBy.xpath("//android.view.View[@content-desc=\"Start driving navigation\"]"));

        // Assert that the element is displayed
        Assert.assertTrue(element.isDisplayed(), "Validating whether the route in map is displaying.");
        System.out.println("Route is displaying.");
        if(driver.findElement(AppiumBy.xpath("//android.widget.RelativeLayout[@content-desc=\"Activate to open step list\"]"
    			+ "/android.widget.RelativeLayout/android.widget.RelativeLayout"
    			+ "/android.widget.LinearLayout/android.widget.LinearLayout"))!=null)
    	{		
    		driver.navigate().back();
     
       }

    } catch (NoSuchElementException e) {
        // If the element is not found, fail the test
        Assert.fail("Element is not found in the DOM.");
    }
    	
    	
    	if(driver.findElement(AppiumBy.xpath("//android.view.View[@content-desc=\"Start driving navigation\"]"))!=null) {
    		driver.navigate().back();
    	}
    }}







